[{"content":"Git 分支分为集成分支、功能分支和修复分支，分别命名为 develop、feature 和 hotfix。\n（1）master 分支 master 为主分支，也是用于部署生产环境的分支。为了确保master分支稳定性，一般由develop、hotfix分支合并，任何时间都不能直接修改代码。\n（2）develop 分支 develop为开发分支，始终保持最新完成以及bug修复后的代码。一般开发新功能时，都是基于develop分支创建feature分支的。\n（3）feature 分支 feature为功能分支，分为版本功能分支和非版本功能分支。\n版本功能分支是根据版本需求分出来的功能分支，这时候命名为： feature/{$version}/{$issue_id}_{$description}\n非版本功能分支则是指不跟版本一起上线的功能或者一些不紧急的 bugs，这时候命名为： feature/{$username}/{$issue_id}_{$description}\n（4）hotfix 分支 hotfix为修复分支，表示修复紧急线上BUG的分支（不紧急的BUG归为功能分支），命名为：\nhotfix/{$username}/{$issue_id}_{$description}\n变量 $username 表示开发者 $issue_id 表示issues的id $description 表示分支功能描述亦或issues的标题 参考文献 - [1] 科比08. Git分支命名规范(2017-06-05)2022-06-06. - [2] josephlin. Git分支命名约定(2019-12-11)2022-06-06.\n","permalink":"https://qlan.cc/post/git%E5%88%86%E6%94%AF%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A/","summary":"Git 分支分为集成分支、功能分支和修复分支，分别命名为 develop、feature 和 hotfix。\n（1）master 分支 master 为主分支，也是用于部署生产环境的分支。为了确保master分支稳定性，一般由develop、hotfix分支合并，任何时间都不能直接修改代码。\n（2）develop 分支 develop为开发分支，始终保持最新完成以及bug修复后的代码。一般开发新功能时，都是基于develop分支创建feature分支的。\n（3）feature 分支 feature为功能分支，分为版本功能分支和非版本功能分支。\n版本功能分支是根据版本需求分出来的功能分支，这时候命名为： feature/{$version}/{$issue_id}_{$description}\n非版本功能分支则是指不跟版本一起上线的功能或者一些不紧急的 bugs，这时候命名为： feature/{$username}/{$issue_id}_{$description}\n（4）hotfix 分支 hotfix为修复分支，表示修复紧急线上BUG的分支（不紧急的BUG归为功能分支），命名为：\nhotfix/{$username}/{$issue_id}_{$description}\n变量 $username 表示开发者 $issue_id 表示issues的id $description 表示分支功能描述亦或issues的标题 参考文献 - [1] 科比08. Git分支命名规范(2017-06-05)2022-06-06. - [2] josephlin. Git分支命名约定(2019-12-11)2022-06-06.","title":"Git分支命名约定"},{"content":"环境 Docker - 1.13.1 docker-compose - 1.23.2 seata-server - 1.4.2 Nacos - 2.0.4 步骤 新建seata目录 1 2 mkdir /opt/seata mkdir /opt/seata/config 新建seata服务端配置文件registry.conf 1 vi /opt/seata/config/registry.conf 编写以下配置\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 registry { type = \u0026#34;nacos\u0026#34; nacos { # 服务名称 application = \u0026#34;seata-server\u0026#34; serverAddr = \u0026#34;127.0.0.1:18848\u0026#34; # 命名空间ID namespace = \u0026#34;\u0026#34; group = \u0026#34;SEATA_GROUP\u0026#34; # 集群名称 cluster = \u0026#34;default\u0026#34; } } config { type = \u0026#34;nacos\u0026#34; nacos { serverAddr = \u0026#34;127.0.0.1:18848\u0026#34; namespace = \u0026#34;\u0026#34; group = \u0026#34;SEATA_GROUP\u0026#34; # 配置文件dataId dataId = \u0026#34;seata-server.properties\u0026#34; } } 在nacos新建seata-server.properties配置 注意配置文件的Group要与上一步配置的一致\n1 2 3 4 5 6 7 store.mode=db store.db.datasource=druid store.db.dbType=mysql store.db.driverClassName=com.mysql.cj.jdbc.Driver store.db.url=jdbc:mysql://192.168.1.213:3309/seata-server?useUnicode=true\u0026amp;characterEncoding=utf8\u0026amp;connectTimeout=1000\u0026amp;socketTimeout=3000\u0026amp;autoReconnect=true\u0026amp;useSSL=false store.db.user=root store.db.password=123456 初始化数据库 新建上一步配置的数据库seata-server，执行seata-server.sql\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 -- -------------------------------- The script used when storeMode is \u0026#39;db\u0026#39; -------------------------------- -- the table to store GlobalSession data CREATE TABLE IF NOT EXISTS `global_table` ( `xid` VARCHAR(128) NOT NULL, `transaction_id` BIGINT, `status` TINYINT NOT NULL, `application_id` VARCHAR(32), `transaction_service_group` VARCHAR(32), `transaction_name` VARCHAR(128), `timeout` INT, `begin_time` BIGINT, `application_data` VARCHAR(2000), `gmt_create` DATETIME, `gmt_modified` DATETIME, PRIMARY KEY (`xid`), KEY `idx_status_gmt_modified` (`status` , `gmt_modified`), KEY `idx_transaction_id` (`transaction_id`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4; -- the table to store BranchSession data CREATE TABLE IF NOT EXISTS `branch_table` ( `branch_id` BIGINT NOT NULL, `xid` VARCHAR(128) NOT NULL, `transaction_id` BIGINT, `resource_group_id` VARCHAR(32), `resource_id` VARCHAR(256), `branch_type` VARCHAR(8), `status` TINYINT, `client_id` VARCHAR(64), `application_data` VARCHAR(2000), `gmt_create` DATETIME(6), `gmt_modified` DATETIME(6), PRIMARY KEY (`branch_id`), KEY `idx_xid` (`xid`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4; -- the table to store lock data CREATE TABLE IF NOT EXISTS `lock_table` ( `row_key` VARCHAR(128) NOT NULL, `xid` VARCHAR(128), `transaction_id` BIGINT, `branch_id` BIGINT NOT NULL, `resource_id` VARCHAR(256), `table_name` VARCHAR(32), `pk` VARCHAR(36), `status` TINYINT NOT NULL DEFAULT \u0026#39;0\u0026#39; COMMENT \u0026#39;0:locked ,1:rollbacking\u0026#39;, `gmt_create` DATETIME, `gmt_modified` DATETIME, PRIMARY KEY (`row_key`), KEY `idx_status` (`status`), KEY `idx_branch_id` (`branch_id`), KEY `idx_xid_and_branch_id` (`xid` , `branch_id`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4; CREATE TABLE IF NOT EXISTS `distributed_lock` ( `lock_key` CHAR(20) NOT NULL, `lock_value` VARCHAR(20) NOT NULL, `expire` BIGINT, primary key (`lock_key`) ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4; INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (\u0026#39;AsyncCommitting\u0026#39;, \u0026#39; \u0026#39;, 0); INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (\u0026#39;RetryCommitting\u0026#39;, \u0026#39; \u0026#39;, 0); INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (\u0026#39;RetryRollbacking\u0026#39;, \u0026#39; \u0026#39;, 0); INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (\u0026#39;TxTimeoutCheck\u0026#39;, \u0026#39; \u0026#39;, 0); 编写docker-compose.yaml 1 vi /opt/seata/docker-compose.yaml 编写以下配置\n1 2 3 4 5 6 7 8 9 10 11 12 13 version: \u0026#34;3.1\u0026#34; services: alum-seata: image: seataio/seata-server:1.4.2 hostname: alum-seata ports: - \u0026#34;18091:18091\u0026#34; environment: - SEATA_PORT=18091 - SEATA_IP=127.0.0.1 - SEATA_CONFIG_NAME=file:/root/seata-config/registry volumes: - \u0026#34;/opt/seata/config:/root/seata-config\u0026#34; 启动seata-server 1 2 cd /opt/seata/ docker-compose up -d 客户端配置 新建seata-client配置 1 2 3 4 5 6 seata.tx-service-group=sfc_tx_group seata.service.vgroup-mapping.sfc_tx_group=default seata.registry.type=nacos seata.registry.nacos.server-addr=127.0.0.1:18848 seata.registry.nacos.application=seata-server seata.registry.nacos.group=SEATA_GROUP 数据新建undo_log表，执行undo_log.sql 1 2 3 4 5 6 7 8 9 10 11 12 13 14 -- 注意此处0.3.0+ 增加唯一索引 ux_undo_log CREATE TABLE `undo_log` ( `id` bigint(20) NOT NULL AUTO_INCREMENT, `branch_id` bigint(20) NOT NULL, `xid` varchar(100) NOT NULL, `context` varchar(128) NOT NULL, `rollback_info` longblob NOT NULL, `log_status` int(11) NOT NULL, `log_created` datetime NOT NULL, `log_modified` datetime NOT NULL, `ext` varchar(100) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `ux_undo_log` (`xid`,`branch_id`) ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; ","permalink":"https://qlan.cc/post/seata%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/","summary":"环境 Docker - 1.13.1 docker-compose - 1.23.2 seata-server - 1.4.2 Nacos - 2.0.4 步骤 新建seata目录 1 2 mkdir /opt/seata mkdir /opt/seata/config 新建seata服务端配置文件registry.conf 1 vi /opt/seata/config/registry.conf 编写以下配置\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 registry { type = \u0026#34;nacos\u0026#34; nacos { # 服务名称 application = \u0026#34;seata-server\u0026#34; serverAddr = \u0026#34;127.0.0.1:18848\u0026#34; # 命名空间ID namespace = \u0026#34;\u0026#34; group = \u0026#34;SEATA_GROUP\u0026#34; # 集群名称 cluster = \u0026#34;default\u0026#34; } } config { type = \u0026#34;nacos\u0026#34; nacos { serverAddr = \u0026#34;127.","title":"Seata 部署指南"},{"content":"查看全局设置 1 git config --global -l 设置全局用户名/邮箱 1 2 git config --global user.name \u0026#34;username\u0026#34; git config --global user.email \u0026#34;user@email\u0026#34; 设置全局代理 1 2 3 4 5 git config --global http.proxy http://127.0.0.1:7890 git config --global https.proxy https://127.0.0.1:7890 # 取消代理 git config --global --unset http.proxy git config --global --unset https.proxy ","permalink":"https://qlan.cc/post/git%E5%85%A8%E5%B1%80%E8%AE%BE%E7%BD%AE/","summary":"查看全局设置 1 git config --global -l 设置全局用户名/邮箱 1 2 git config --global user.name \u0026#34;username\u0026#34; git config --global user.email \u0026#34;user@email\u0026#34; 设置全局代理 1 2 3 4 5 git config --global http.proxy http://127.0.0.1:7890 git config --global https.proxy https://127.0.0.1:7890 # 取消代理 git config --global --unset http.proxy git config --global --unset https.proxy ","title":"Git 全局设置"}]